<?php
/**
 * GateApiException
 * PHP version 7
 *
 * @category Class
 * @package  GateApi
 * @author   Gate
 * @link     https://www.gate.com
 */

/**
 * Gate API
 *
 * Welcome to Gate API  APIv4 provides operations related to spot, margin, and contract trading, including public interfaces for querying market data and authenticated private interfaces for implementing API-based automated trading.
 *
 * Contact: support@mail.gate.com
 * Generated by: https://openapi-generator.tech
 */

/**
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * Do not edit the class manually.
 */

namespace GateApi;

/**
 * GateApiException Class Doc Comment
 *
 * @category Class
 * @package  GateApi
 * @author   Gate
 * @link     https://www.gate.com
 */
class GateApiException extends ApiException
{
    /**
     * Gate error label
     *
     * @var string
     */
    protected $label;

    /**
     * Constructor
     *
     * @param array         $gateError       Gate Error detail
     * @param int           $code            HTTP status code
     * @param string[]|null $responseHeaders HTTP response header
     * @param mixed         $responseBody    HTTP decoded body of the server response either as \stdClass or string
     */
    public function __construct($gateError, $code = 0, $responseHeaders = [], $responseBody = null)
    {
        $this->label = $gateError['label'];
        $errMsg = $gateError['detail'] ?? null;
        if ($errMsg === null || $errMsg === "") {
            $errMsg = $gateError['message'] ?? "";
        }
        parent::__construct($errMsg, $code, $responseHeaders, $responseBody);
    }

    /**
     * Gets the Gate error label to identify error type
     *
     * @return string
     */
    public function getLabel(): string
    {
        return $this->label;
    }

}
